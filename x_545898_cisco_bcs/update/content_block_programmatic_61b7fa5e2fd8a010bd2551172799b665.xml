<?xml version="1.0" encoding="UTF-8"?><record_update table="content_block_programmatic">
    <content_block_programmatic action="INSERT_OR_UPDATE">
        <active>true</active>
        <category>general</category>
        <condition/>
        <conditional>false</conditional>
        <frame/>
        <logged_on>false</logged_on>
        <name>Contract Lifecycle</name>
        <programmatic_content><![CDATA[<?xml version="1.0" encoding="utf-8" ?>
<j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null">
	<div class="form-group" style="height: 425px; overflow: hidden;">
		<div style="height: 35%;">
	<h1 id="rep1" style="padding-left:5px"></h1>
	<b><p style="padding-left:5px">Assets under warranty</p></b>
	<h1 id="rep2" style="padding-left:5px"></h1>
	<b><p style="padding-left:5px">Assets under contract</p></b>
		</div>
	<div id="contract" style="height: 64%;"></div>
		<div style="height: 1%;"/>
	</div>
	<script>
		try{
		
	var ga = new GlideAjax('Cisco_ClientServerBridge');
	ga.addParam('sysparm_name', 'gettingDetailsOfContractLifecycle');
	ga.getXML(getContractResponse);
	function getContractResponse(response) {
	    var answer = response.responseXML.documentElement.getAttribute("answer");
		answer = JSON.parse(answer);
		answer1 = answer.inner_json; 
		document.getElementById("rep1").innerHTML = answer.warranty_count;
		document.getElementById("rep2").innerHTML = answer.service_count;
		var output = [];
		var xAxis = {};
		var categories = [];
		var count = 0;
		for(var i in answer1){
			var str;
			var obj = {};
			if(i == "Past"){
				str = "Expired";
				categories.push(str);
				obj.name = str;
				obj.data =   [{x: count, y:parseInt(answer1[i]),color:"#FF8C00"}];
		
		}
			else if(i == "month3")
		{
				str = "0-3m";
				categories.push(str);
				obj.name = str;
				obj.data =   [{x: count, y:parseInt(answer1[i]),color:"#87ceeb"}];
		}
			else if(i == "month1yr"){
				str = "3m-1y";
		categories.push(str);
				obj.name = str;
				obj.data =   [{x: count, y:parseInt(answer1[i]),color:	"#0000FF"}];
		
		}
			else if(i == "greater1yr_count"){
				str = ">1y";
		categories.push(str);
				obj.name = str;
				obj.data =   [{x: count, y:parseInt(answer1[i]),color:	"#D3D3D3"}];
			}
			output.push(obj);
			count++;
		}
		xAxis.categories = categories;
		ScriptLoader.getScripts('x_545898_cisco_bcs.Cisco_RenderGraph.jsdbx', function() {
		x_545898_cisco_bcs.Cisco_RenderGraph.renderBarChart("contract","",output,"column",xAxis,"Contract count");
	});
	}
		}catch(e){
		alert(e);
		}
	</script>
</j:jelly>]]></programmatic_content>
        <sys_class_name>content_block_programmatic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-11-08 04:11:05</sys_created_on>
        <sys_id>61b7fa5e2fd8a010bd2551172799b665</sys_id>
        <sys_mod_count>34</sys_mod_count>
        <sys_name>Contract Lifecycle</sys_name>
        <sys_package display_value="Cisco BCS Operational Insights" source="x_545898_cisco_bcs">56b8d9362f3310108956ea5ef699b62d</sys_package>
        <sys_policy/>
        <sys_scope display_value="Cisco BCS Operational Insights">56b8d9362f3310108956ea5ef699b62d</sys_scope>
        <sys_update_name>content_block_programmatic_61b7fa5e2fd8a010bd2551172799b665</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-11-11 05:33:31</sys_updated_on>
        <two_phase>false</two_phase>
    </content_block_programmatic>
</record_update>
