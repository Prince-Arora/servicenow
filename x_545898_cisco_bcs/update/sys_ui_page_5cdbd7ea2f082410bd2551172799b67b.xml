<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_page">
    <sys_ui_page action="INSERT_OR_UPDATE">
        <category>general</category>
        <client_script><![CDATA[$j = jQuery.noConflict();
$j('#myframe1').load(function() {
    $j("#myframe1").contents().find("a").attr("target", "_parent");
});
$j('#myframe2').load(function() {
    $j("#myframe2").contents().find("a").attr("target", "_parent");
});

security(3);
function myFunction1(){
		var loadingDialog = new GlideModal("x_545898_cisco_bcs_Feedback on link",false, 'modal-lg');
        loadingDialog.setTitle('Comments'); 
		loadingDialog.setPreference("sysparm_message", "Prince");
		loadingDialog.render(); 
}
function myFunction() {
		var loadingDialog = new GlideModal("x_545898_cisco_bcs_My_Feedback_Form",false, 'modal-lg');
        loadingDialog.setTitle('Comments'); 
		loadingDialog.setPreference("sysparm_message", "Prince");
		loadingDialog.render(); 
}

function renderGraphWithParm() {
    var len = $j("#TabList").children().length;
    for (var i = 0; i < len; i++) {
        var val = $j("#TabList").children()[i].className;
        if (val == "active") {
            val = $j("#TabList").children()[i].innerHTML;
            if (val != "Security Advisories")
                this.field_ntices($j("#timeScale").val());
            else
                this.security($j("#timeScale").val());
        }
    }
}
//bulletin_first_published>=javascript:gs.beginningOfLast3Months()
function field_ntices(timeScale) {
    $j("#security_table").hide();
    $j("#FieldMaps_table").show();
    $j("#FieldNotice").addClass("active");
    $j("#securityAdv").removeClass("active");
    $j("#timeScale").val(timeScale);
    $j('#myframe1').load(function() {
        $j("#myframe1").contents().find("a").attr("target", "_parent");
    });
    $j('#myframe2').load(function() {
        $j("#myframe2").contents().find("a").attr("target", "_parent");
    });
    $j('#myframe2').attr('src', "/x_545898_cisco_bcs_cisco_fn_bulletin_list.do?sysparm_fixed_query=bulletin_first_published>=javascript:gs.beginningOfLast" + timeScale + "Months()");
    renderGraph("x_545898_cisco_bcs_cisco_field_notices", "graphOfFieldNoticeDeviceIdDrilldown", "field_notice_id", "report1", timeScale, "No of devices affected by field notice id(top 10)", "#FF8C00","device Count");
  //  renderGraph("x_545898_cisco_bcs_cisco_field_notices", "graphOfFieldNoticeDeviceIdDrilldown", "device_id", "report2", timeScale, "No of field notice id per devices(top 10)", "#1261A0","field notice count");
    renderGraph("x_545898_cisco_bcs_cisco_field_notices", "graphOfMatchConfidenceForVurlneabilitiesDrillDown", "match_confidence", "report3", timeScale, "No of devices per match confidence", "#1261A0","device count");
}

function security(timeScale) {
    $j("#FieldMaps_table").hide();
    $j("#security_table").show();
    $j("#securityAdv").addClass("active");
    $j("#FieldNotice").removeClass("active");
    $j("#timeScale").val(timeScale);
    $j('#myframe1').load(function() {
        $j("#myframe1").contents().find("a").attr("target", "_parent");
    });
    $j('#myframe2').load(function() {
        $j("#myframe2").contents().find("a").attr("target", "_parent");
    });
    $j('#myframe1').attr('src', "/x_545898_cisco_bcs_cisco_security_advisories_bulletins_list.do?sysparm_fixed_query=bulletin_first_published>=javascript:gs.beginningOfLast" + timeScale + "Months()");
    renderGraph("x_545898_cisco_bcs_cisco_security_advisories", "graphOfFieldNoticeDeviceIdDrilldown", "psirt_cold_id", "report1", timeScale, "No of devices affected by psirt id(top 10)", "#FF8C00","device count"); //
    //renderGraph("x_545898_cisco_bcs_cisco_security_advisories", "graphOfFieldNoticeDeviceIdDrilldown", "device_id", "report2", timeScale, "No of psirt id per devices(top 10)", "#1261A0","psirt count");
    renderGraph("x_545898_cisco_bcs_cisco_security_advisories", "graphOfMatchConfidenceForVurlneabilitiesDrillDown", "match_confidence", "report3", timeScale, "No of devices per match confidence", "#1261A0","device count");

}

function renderGraph(tableName, method, groupby, div, timeScale, title, color,yaxis) {
    var bridge = new GlideAjax("Cisco_ClientServerBridge");
    bridge.addParam('sysparm_name', method);
    bridge.addParam('sysparm_table_name', tableName);
    bridge.addParam('sysparm_group_by', groupby);
    bridge.addParam('sysparm_time_scale', timeScale);
    bridge.getXML(vulnerability);

    function vulnerability(response) {
        var answer = response.responseXML.documentElement.getAttribute("answer");
        answer = JSON.parse(answer);
        var output = [];
        var xAxis = {};
        var categories = [];
        var count = 0;
        for (var i in answer) {
           categories.push(i);
            var obj = {};
            obj.name = i;
            obj.data = [{
                x: count,
                y: parseInt(answer[i]),
                color: color
            }];
            output.push(obj);
            count++;
        }
        xAxis.categories = categories;
        ScriptLoader.getScripts('x_545898_cisco_bcs.Cisco_RenderGraph.jsdbx', function() {
            x_545898_cisco_bcs.Cisco_RenderGraph.renderBarChart(div, title, output, "column", xAxis,yaxis);
        });

    }
}]]></client_script>
        <description/>
        <direct>false</direct>
        <endpoint>x_545898_cisco_bcs_Vulnerabilities Drill Down.do</endpoint>
        <html><![CDATA[<?xml version="1.0" encoding="utf-8" ?>
<j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet"/>	
<g:inline template="reporting_includes.xml" />
	
	
	<div class="stars" id="Prince" style="float:right;">
	<h4><a style="margin-left:12px" onclick="myFunction1()">Feel free to rate us!</a></h4>	
		<input class="star star-5" id="star-5" type="radio" name="star" value="5" onclick="myFunction()" />
    <label class="star star-5" for="star-5"></label> 
    <input class="star star-4" id="star-4" type="radio" name="star"  value="4" onclick="myFunction()"/>
    <label class="star star-4" for="star-4"></label>
    <input class="star star-3" id="star-3" type="radio" name="star"  value="3" onclick="myFunction()"/>
    <label class="star star-3" for="star-3"></label>
    <input class="star star-2" id="star-2" type="radio" name="star"  value="2" onclick="myFunction()"/>
	<label class="star star-2" for="star-2"></label>
	<input class="star star-1" id="star-1" type="radio" name="star"  value="1" onclick="myFunction()"/>
	<label class="star star-1" for="star-1"></label>
	</div>
	<style>
	div.stars {
 	width: 270px;
	display: inline-block;
}
#submit{
	float:right;
	}
input.star { display: none; }
label.star {
	float: right;
	padding: 10px;
	font-size: 36px;
	color: #444;
	transition: all .2s;
}
.head{
  	font-size: 2em;
}
input.star:checked ~ label.star:before {
	content: '\f005';
	color: #FD4;
	transition: all .25s;
}
input.star-5:checked ~ label.star:before {
	color: #FE7;
	text-shadow: 0 0 20px #952;
}
#feedback{
		padding-left:20px;
		padding-top:15px;
		}
 input.star-1:checked ~ label.star:before { color: #F62; }
label.star:hover { transform: rotate(-15deg) scale(1.3); }
label.star:before {
content: '\f006';
font-family: FontAwesome;
}
</style>
	<div class="wrapper container-fluid">
		<div class="row">
    		<div class="col-xs-3"  ><h1>Vulnerabilities</h1>
    			<div >
					<ul role="tablist" id="TabList" el-type="li" class="button-group nav nav-segmented accessible-menu">
						<li role="tab" tabindex="0" title="" aria-label="Reports created by me" class="" onclick="security(3)" id="securityAdv">Security Advisories</li>
						<li role="tab" tabindex="0" title="" id="FieldNotice" aria-label="Reports created by me" class="active" onclick="field_ntices(3)">Field Notices</li>
					</ul>
				</div>
			</div>
			<div class="col-xs-3" >
				<div >
					<label style="margin-top:40px"   class="control-label"><strong>Time Scale</strong></label>
					<select  id="timeScale" onchange="renderGraphWithParm()" class="form-control select2-basic" style="height:auto;" >
						<option value="3" >Past 3 months</option>
						<option value="6" >Past 6 months</option>
						<option value="9" >Past 9 months</option>
						<option value="12" >Last Year</option>
					</select>
				</div>
			</div>
 		</div>
	</div>
	<br/>
	<div class="wrapper container-fluid">
  		<div class="row">
    		<div class="col-xs-6" id="report1" ></div>
    		<div class="col-xs-6" id="report3"></div>
  		</div>
	</div>
	<div id="security_table">
		<iframe id="myframe1" src="/x_545898_cisco_bcs_cisco_security_advisories_bulletins_list.do" width="100%" height="450" style="border:none;"></iframe>
	</div>
	<div id="FieldMaps_table">
		<iframe id="myframe2" src="/x_545898_cisco_bcs_cisco_fn_bulletin_list.do?" width="100%" height="450" style="border:none;"></iframe>
	</div>
</j:jelly>]]></html>
        <name>Vulnerabilities Drill Down</name>
        <processing_script/>
        <sys_class_name>sys_ui_page</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-10-27 13:46:17</sys_created_on>
        <sys_id>5cdbd7ea2f082410bd2551172799b67b</sys_id>
        <sys_mod_count>261</sys_mod_count>
        <sys_name>Vulnerabilities Drill Down</sys_name>
        <sys_package display_value="Cisco BCS Operational Insights" source="x_545898_cisco_bcs">56b8d9362f3310108956ea5ef699b62d</sys_package>
        <sys_policy/>
        <sys_scope display_value="Cisco BCS Operational Insights">56b8d9362f3310108956ea5ef699b62d</sys_scope>
        <sys_update_name>sys_ui_page_5cdbd7ea2f082410bd2551172799b67b</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-11-18 07:01:14</sys_updated_on>
    </sys_ui_page>
</record_update>
